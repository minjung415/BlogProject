<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/" xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title th:text="${post.title}">블로그 포스트</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/viewpost.css}">
</head>
<body>
<div class="container">
    <header class="header">
        <div class="header-content">
            <h1 class="logo"><a th:href="@{/minlog}">Minlog</a></h1>
        </div>
    </header>
    <div class="post-container">
        <h2 th:text="${post.title}">블로그 포스트 제목</h2>
        <p class="post-meta">
            작성자: <span th:text="${post.getUser().getUsername()}">작성자명</span> | 작성일: <span th:text="${post.createdAt.format(dateformatter)}"></span>
        </p>
        <div class="post-content" th:utext="${post.content}">
            블로그 포스트 내용
        </div>
        <div class="comments-section">
            <h3>댓글</h3>
            <div th:each="comment : ${post.comments}">
                <div class="comment">
                    <p>
                        <span class="comment-author" th:text="${comment.getUser().getUsername()}">댓글 작성자</span> <span class="comment-date" th:text="${comment.registeredAt.format(dateformatter)}"></span>
                    </p>
                    <p class="comment-content" th:text="${comment.content}">댓글 내용</p>
                </div>
            </div>
            <div class="comment-form">
                <form th:action="@{/minlog/viewpost/{id}/comment(id=${post.id})}" method="post">
                    <div class="form-group">
                        <h4>
                        <label for="content">댓글 쓰기</label>
                        </h4>
                        <textarea id="content" name="content" required></textarea>
                    </div>
                    <div class="form-group">
                        <input type="submit" value="댓글 쓰기" class="btn">
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>